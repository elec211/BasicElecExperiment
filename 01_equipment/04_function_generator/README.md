

# Function Generator 함수 발생기 활용

함수 발생기는 시간에 따라 변하는 신호 (waveform)를 생성하는 장비로써 사인파 사각파, 톱니파 및 PWM 펄스와 같은 다양한 형태의 파형의 모양을 선택할 수 있으며 개별 신호의 주파수, 진폭, 위상 등을 자유롭게 조절할 수 있는 만능 파형생성기이다. 본 장비를 이용하여 다양한 형태의 신호를 생성하는 실습을 진행해보자.



--------------------
## 함수발생기 TRIG OUT 출력신호 생성

함수 발생기의 출력을 간단히 테스트하기 위해 TRIG OUTPUT 채널을 이용해보자. 함수발생기 하단 TRIG. OUTP.이라고 표시된 포트에 함수발생기 케이블 연결잭을 결착한다. 반대쪽 리드선 끝단의 클립을 오실로스코프와 연결하여 (빨간색은 출력전압, 검은색은 접지) 전압 파형을 측정해보면 진폭이 5V인 사각파 출력이 생성됨을 알 수 있다.

![01_레퍼런스신호](./images/01x.jpg '레퍼런스 신호')

1. 표시된 위치의 버튼을 눌러서 함수발생기의 전원을 켠다. 
2. 함수발생기 전면 하단에 출력 포트 2개가 있으며 먼저 왼쪽 포트에 함수발생기 케이블 단자를 연결한다. (TRIG OUTP라고 표시된 포트)
3. 이 포트에는 출력 전압 5V로 진폭이 고정된 사각파만 생성된다. 즉 다른 파형의 형태 및 진폭을 조절할 수 없다.
4. 다이얼을 돌려 출력 주파수를 조절해 본다.
5. 다이얼 아래쪽에의 화살표 버튼을 이용하여 주파수 배율을 조절할 수 있다. 왼쪽 버튼을 누르면 1/10 작아지며, 오른쪽 방향 버튼을 누르면 주파수가 10x 배율로 커진다. 버튼을 누를 때마다 LCD창에 현재 선택된 주파수가 표시된다.
6. 화면에 현재 설정된 파형의 주파수를 보여준다. 숫자의 digit값과 오른쪽의 단위를 고려하여 현재 출력 주파수 가 얼마인지 적절히 판단해야 한다.
7. 함수발생기에 연결한 케이블 리드선 반대쪽 클립을 확인한다. 
8. 오실로스코프 케이블의 Probe에 그림과 같이 연결한다. (색깔에 주의하여 연결한다.)

향후 실험을 위해 함수발생기를 사용하여 가변전압, 가변주파수가 설정해야 하는데 실수로 위의 TRIG. OUTP. 포트에 출력 케이블을 연결하여 회로에 전압을 공급하는 경우가 많다. 이때 함수발생기 출력 전압, 주파수를 아무리 조정해도 회로에 인가되는 전압의 진폭, 주파수가 가변하지 않는 현상이 발생할 경우 함수발생기의 어느 출력포트에 잭을 연결했는지 항상 주의하도록 하자.



------------------
## 함수발생기 케이블

함수 발생기의 출력 전압을 회로에 공급하기 위해서는 전용 케이블을 이용하여야 한다. 실험 준비실로 이동하여 하단 그림과 같은 연결 케이블 1개를 수령한다. 본체 연결잭 모양이 오실로스코프 연결 잭과 동일할 수도 있으므로 주의한다.

![c01_함수발생기_케이블](./images/c01.jpg '함수발생기 케이블')

1. 사용하고자 하는 함수발생기의 출력 채널을 결정한 뒤 해당 포트를 확인한다. (고정 주파수 출력 포트와 가변주파수 출력포트가 존재함).
2. 리드선 왼쪽 끝 연결잭을 본체의 출력포트에 정확하게 삽입하고 나사를 돌려서 본체에 정확하게 결착한다.
3. 리드선 오른쪽 끝 악어 클립을 회로(브레드보드)의 특정 지점에 연결하여 회로에 교류 신호를 공급한다. 이때 신호를 공급할 회로의 특정 노드에는 빨간색 클립을 연결하고 검은색은 회로의 GND에 연결한다.

함수발생기 출력이 제대로 나오는지 항상 오실로스코프를 이용하여 출력 파형을 먼저 확인한다. (전원스위치 on상태확인, 연결잭 결착확인) 함수발생기의 출력이 올바르게 회로에 공급되지 않은 상태에서 회로의 오동작 원인을 찾는데 시간을 낭비하기 쉽다.



------------------
## 오실로스코프 측정 케이블 (Probe)

오실로스코프 장비를 이용하여 회로의 특정 노드의 전압을 측정하기 위해서는 전용 측정용 케이블을 준비해와야 한다. 케이블 단자를 본체에 연결하고 리드선 반대편 끝 측정 프로브의 클립을 측정 대상에 정확하게 결착하여야 한다. 실험 준비실로 이동하여 아래 그림과 같은 측정용 케이블 2개를 수령한다.

![c02_오실로스코프_케이블](./images/c02.jpg '오실로스코프 케이블')

실험준비실로 이동하여 그림과 같은 오실로스코프 연결 케이블을 수령한다. 본체 연결부가 함수 발생기 케이블과 유사하므로 주의한다.

1. 오실로스코프에서 사용하고자 하는 채널을 결정하고 해당 포트를 확인한다. (채널1번, 채널 2번) 
2. 연결잭을 본체의 입력 포트에 연결한 뒤 회전하여 정확하게 결착한다. (현재 그림은 채널 1번에 연결)
3. 오실로스크프 케이블 리드선의 오른쪽 끝 Probe를 회로(브레드보드)의 측정 지점에 정확하게 연결한다. 
4. 스프링으로 조절되는 Probe 캡을 당기면 드러나는 클립을 회로의 측정 지점에 연결한다. 
5. 나머지 악어클립은 회로의 GND에 연결한다.
6. 신호 측정 배율을 선택한다. (기본은 1x, 정밀 측정시 10x로 선택, 대부분 1x모드를 사용한다.)

실험중에 간혹 Probe고장이 발생하므로 오실로스코프가 정상동작 하지 않는다고 판단된다면 먼저 케이블 불량을 의심해보는 것도 좋다. 함수발생기의 출력을 제대로 회로에 공급하지 않은 상태에서 오실로스코프 파형이 올바르게 측정되지 않은 경우도 있으므로 함수발생기의 문제도 동시에 의심해보아야 한다. 단계별로 장비의 정상 동작 여부를 순차적으로 검증하면서 실험을 진행하는 것이 좋다.



--------------------
## 함수발생기 가변신호 출력 설정

![02_함수발생기_가변출력](./images/02x.jpg '함수발생기 가변출력')

위의 그림은 함수발생기의 주파수와 진폭을 조절할 수 있는 출력 신호를 생성하는 과정을 보여준다. 전면 LCD창에는 현재 선택된 신호의 주파수가 표시된다. Function으로 표시된 박스에는 현재 선택된 파형의 형태가 불빛으로 표시된다. (현재는 사인파가 선택됨) 선택된 파형 형태와 주파수, 진폭에 의해 결정되는 출력 신호 모양을 확인하기 위해 반드시 오실로스코프에 연결하여 파형을 관찰하면서 출력 주파수 및 진폭을 조절하도록 한다.

1. 그림에 표시된 빨간색 버튼을 눌러 전원을 켠다.
2. 함수발생기 하단에 출력포트가 2개 존재하는데 오른쪽 포트가 가변신호 출력 포트이다. 함수발생기 케이블의 단자를 이곳에 연결한다. 
3. 해당 포트에는 주파수, 진폭, 오프셋, 파형 모양 등을 제어할 수 있는 신호가 출력된다. 함수발생기 케이블의 리드선 반대쪽 악어클립을 브레드 보드에 구현한 회로의 특정 지점에 연결하여 신호를 공급한다.
4. 화면 아래에 위치한 다이얼을 돌려 주파수를 설정할 수 있다. 현재 설정된 주파수는 실시간으로 화면에 표시된다.
5. 다이얼 아래쪽에의 버튼을 이용하여 주파수 변화 스케일을 조절할 수 있다. 왼쪽 버튼을 한번 누를 때마다 1/10x, 오른쪽 방향 버튼을 누를 때마다 10x 배율로 설정된다. 버튼을 누를 때마다 LCD창에 현재 선택된 주파수가 10배 단위로 변화되어 표시된다.
6. 현재 선택된 출력 주파수가 화면에 표시된다.  전면 LCD창에는 숫자 값만 나오며 오른쪽 Hz 등 단위에 노란색 불이 들어오므로 두개를 동시에 고려하여 현재 주파수를 판단하도록 한다.



--------------------
## 사인파 출력 생성 및 조절

아래 그림과 같이 함수발생기의 Function 버튼을 이용하여 다양한 형태의 신호 파형을 생성할 수 있다. 우선 사인파 출력을 생성하도록 Function키를 여러 번 눌러서 사인파 아이콘에 불빛이 들어오도록 한다. 상단에 2개의 다이얼이 있는데 왼쪽은 출력신호의 DC성분, 즉 접지로부터 얼마나 shift된 정도를 나타내는 offset 값을 조절할 수 있다. 오른쪽 다이얼은 출력신호의 진폭을 조절하는데 사용한다. 이번 실험에서 출력 신호의 주파수, 진폭, 오프셋 등을 모두 조절해보자.

![03_파형선택](./images/03x.jpg '파형선택')

1. LCD창 아래의 다이얼은 출력신호의 주파수를 조절하는데 사용된다. 함수발생기 출력을 오실로스코프에 연결하여 현재 생성되는 출력 파형의 모양을 관찰해보자. 오실로스코프의  Volt/Div, Time/Div를 적절히 설정하여 화면에 위와 같이 표시되도록 조절해본다. 오실로스코프 사용방법은 해당 섹션을 참고하도록 한다.
2. 오프셋 다이얼을 이용하여 사인파의 DC 레벨을 조절할 수 있다. DC레벨을 조절하면서 오실로스코프로 파형을 관찰해보자. GND 기준으로 신호의 수직방향 위치가 바뀌는 것을 관찰할 수 있다. 이는 신호의 DC 레벨이 직접 조절되는 것을 의미한다. 
3. Amplitude 다이얼을 돌려서 출력 신호의 진폭을 조절해보고 오실로스코프를 이용하여 출력신호를 실시간으로 관찰해본다. 현재 선택된 출력신호의 진폭은 함수발생기 전면 패널에 표시되지 않는 상대적인 값이므로 반드시 오실로스코프로 파형의 형태를 확인해야 한다.
4. GND 위치를 염두에 두고 신호의 진폭의 크기를 정확히 계산해본다.



--------------------
## 다양한 파형 모드 선택

![04_사각파](./images/04x.jpg '사각파')

1. Function 버튼을 누를 때마다 출력파형을 변경할 수 있다. 현재 선택된 파형에 표시등이 켜지므로 원하는 파형이 선택될 때까지 반복해서 버튼을 누른다. 그림에서는 사각파가 선택되었을 때의 모습이다.
2. 주파수 조절 다이얼을 돌려서 사각파 주파수를 조절할 수 있다. 
3. 그림의 다이얼을 돌려서 사각파의 진폭을 조절할 수 있다. 오실로스코프 화면에 표시된 GND위치를 기준으로 현재 선택된 신호 파형의 +/- 진폭 및 전압 값을 파악할 수 있다. 



--------------------
## PWM 모드의 활용

![05_PWM](./images/05x.jpg 'PWM 모드의 활용')

위 그림은 함수발생기를 이용하여 PWM 출력 펄스를 생성하는 방법을 보여준다. 주의할 점은 PWM도 일종의 사각파 이므로 LCD창 아래 다이얼을 이용하여 주파수를 먼저 설정한 뒤 3번의 Duty 다이얼을 이용하여 Pulse high 구간의 폭을 세밀히 조절해야 한다는 점이다. 3번의 다이얼을 돌려도 출력 파형의 주파수에 영향을 주지 않음에 주의하자.

1. Function 모드를 눌러서 그림과 같이 PWM모드를 선택한다.
2. 주파수 조절 다이얼을 이용하여 원하는 사각파의 주파수를 먼저 설정한다.
3. 그림에 표시된 다이얼을 이용하여 사각파의 High 구간의 폭을 조절할 수 있다. 이때 사각파의 한 주기의 크기는 고정되어 있으며 Pulse의 High 구간의 폭만 조절됨에 유의하자.
4. PWM 모드에서는 출력전압의 최소 값은 0V이며 Amplitude 다이얼을 이용하여 Pulse의 high 진폭만 조절할 수 있다. 즉 0V에서 +전압만 반복된다. (디지털 신호)
5. Pulse High 구간의 Width를 조절해보자. 신호의 주파수를 고정시킨 상태에서 Pulse High 구간의 Width를 제어하는 것을 Pulse Width Modulation (PWM)이라고 한다.

PWM 출력 모드에서는 마이너스 전압은 생성되지 않는다. LED실험에서 함수발생기의 PWM 모드를 활용할 예정이므로 사용법을 반드시 숙지하도록 한다. 



